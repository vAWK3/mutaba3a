import{r as u,j as e,L as i}from"./vendor-router-D4Yqsbqz.js";import{u as f,d as g,a as N,ab as k,T as L,k as l,m as I}from"./index-Clb4NbgW.js";import"./vendor-react-BdxwsYZ-.js";import"./vendor-query-CI0tl4qS.js";import"./vendor-db-BMy7eggi.js";import"./vendor-forms-CPtPuEGg.js";function E(){const a=f(),{language:x}=g(),t=I(x),{openExpenseDrawer:h}=N(),d=new Date().getFullYear(),[o,m]=u.useState(d),{data:r=[],isLoading:j}=k(o),v=Array.from({length:6},(s,n)=>d-n),c=r.reduce((s,n)=>s+n.totalMinorUSD,0),p=r.reduce((s,n)=>s+n.totalMinorILS,0);return e.jsxs(e.Fragment,{children:[e.jsx(L,{title:a("expenses.title"),filterSlot:e.jsx("div",{className:"filters-row",style:{marginBottom:0,marginInlineStart:24},children:e.jsx("select",{className:"select",value:o,onChange:s=>m(Number(s.target.value)),children:v.map(s=>e.jsx("option",{value:s,children:s},s))})})}),e.jsxs("div",{className:"page-content",children:[e.jsxs("div",{className:"expense-quick-links",children:[e.jsxs(i,{to:"/expenses/overview",className:"expense-quick-link",children:[e.jsx(S,{}),e.jsx("span",{children:a("expenses.allProfilesOverview")})]}),e.jsxs(i,{to:"/expenses/forecast",className:"expense-quick-link",children:[e.jsx(w,{}),e.jsx("span",{children:a("expenses.forecast")})]})]}),r.length>0&&e.jsx("div",{className:"expense-grand-totals",children:e.jsxs("div",{className:"expense-grand-total",children:[e.jsxs("span",{className:"expense-grand-total-label",children:[a("expenses.totalExpenses")," (",o,")"]}),e.jsxs("div",{className:"expense-grand-total-amounts",children:[c>0&&e.jsx("span",{className:"amount-negative",children:l(c,"USD",t)}),p>0&&e.jsx("span",{className:"amount-negative",children:l(p,"ILS",t)}),c===0&&p===0&&e.jsx("span",{className:"text-muted",children:"-"})]})]})}),j?e.jsx("div",{className:"loading",children:e.jsx("div",{className:"spinner"})}):r.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{className:"empty-state-title",children:a("expenses.emptyProfiles")}),e.jsx("p",{className:"empty-state-description",children:a("expenses.emptyProfilesHint")}),e.jsx("button",{className:"btn btn-primary",onClick:()=>h({mode:"create"}),children:a("expenses.addExpense")})]}):e.jsx("div",{className:"expense-profile-cards",children:r.map(s=>e.jsxs(i,{to:"/expenses/profile/$profileId",params:{profileId:s.profileId},className:"expense-profile-card",children:[e.jsxs("div",{className:"expense-profile-card-header",children:[e.jsx("h3",{className:"expense-profile-card-name",children:s.profileName}),e.jsx(A,{})]}),e.jsxs("div",{className:"expense-profile-card-stats",children:[e.jsxs("div",{className:"expense-profile-card-stat",children:[e.jsx("span",{className:"expense-profile-card-stat-label",children:"USD"}),e.jsx("span",{className:"expense-profile-card-stat-value amount-negative",children:s.totalMinorUSD>0?l(s.totalMinorUSD,"USD",t):"-"})]}),e.jsxs("div",{className:"expense-profile-card-stat",children:[e.jsx("span",{className:"expense-profile-card-stat-label",children:"ILS"}),e.jsx("span",{className:"expense-profile-card-stat-value amount-negative",children:s.totalMinorILS>0?l(s.totalMinorILS,"ILS",t):"-"})]})]}),e.jsx("div",{className:"expense-profile-card-receipts",children:e.jsxs(i,{to:"/expenses/profile/$profileId/receipts",params:{profileId:s.profileId},className:"expense-profile-card-receipts-link",onClick:n=>n.stopPropagation(),children:[e.jsx(M,{}),e.jsx("span",{children:a("expenses.viewReceipts")})]})})]},s.profileId))})]})]})}function S(){return e.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"})})}function w(){return e.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"})})}function M(){return e.jsx("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})})}function A(){return e.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})})}export{E as ExpensesPage};
