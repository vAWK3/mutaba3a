import{r as x,j as e,a as je}from"./vendor-router-D4Yqsbqz.js";import{y as re,a as ie,u as le,z as be,c as m,l as i,n as de,f as oe,o as ye,t as Se,h as ce,T as ge,S as ve}from"./index-CziYQwUw.js";import"./vendor-react-BdxwsYZ-.js";import"./vendor-query-CI0tl4qS.js";import"./vendor-db-BMy7eggi.js";import"./vendor-forms-CPtPuEGg.js";function R({usdAmountMinor:t,ilsAmountMinor:u,eurAmountMinor:p=0,unifiedCurrency:b="ILS",variant:d="default",type:T="neutral",showSource:h=!0,className:$}){const{rate:v,source:K}=re("USD","ILS"),{rate:N,source:D}=re("EUR","ILS"),{language:P}=ie(),l=de(P),B=le(),j=K==="none"||D==="none"?"none":K==="cached"||D==="cached"?"cached":"live",f=x.useMemo(()=>be(t,u,p,v,N),[t,u,p,v,N]),L=T==="income"?"amount-positive":T==="expense"?"amount-negative":T==="net"?f!==null?f>=0?"amount-positive":"amount-negative":t+u+p>=0?"amount-positive":"amount-negative":"",w=()=>{const y=[];return t!==0&&y.push(i(t,"USD",l)),u!==0&&y.push(i(u,"ILS",l)),p!==0&&y.push(i(p,"EUR",l)),y.length>0?y.join(" + "):i(0,"ILS",l)};if(d==="compact")return e.jsx("span",{className:m("unified-amount-compact",L,$),children:f!==null?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"unified-total",children:i(f,b,l)}),h&&j!=="live"&&e.jsx("span",{className:m("fx-indicator",`source-${j}`),title:B(`fx.${j}`),children:"*"})]}):e.jsx("span",{className:"unified-fallback",children:w()})});if(d==="table"){const y=[];t!==0&&y.push(`USD: ${i(t,"USD",l)}`),u!==0&&y.push(`ILS: ${i(u,"ILS",l)}`),p!==0&&y.push(`EUR: ${i(p,"EUR",l)}`);const I=y.length>0?y.join(" + "):"-";return f!==null?e.jsx("span",{className:m(L,$),title:I,style:{cursor:"help"},children:i(f,b,l)}):e.jsx("span",{className:m(L,$),title:I,children:w()})}return d==="kpi"?e.jsxs("div",{className:m("unified-amount-kpi",$),children:[f!==null?e.jsxs("div",{className:m("unified-total",L),children:[i(f,b,l),h&&e.jsx("span",{className:m("fx-source-badge",`source-${j}`),children:B(`fx.${j}`)})]}):e.jsx("div",{className:m("unified-total",L),children:"—"}),e.jsxs("div",{className:"unified-breakdown",children:[t!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-currency",children:"USD:"})," ",i(t,"USD",l)]}),(u!==0||p!==0)&&e.jsx("span",{className:"breakdown-separator",children:"+"})]}),u!==0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-currency",children:"ILS:"})," ",i(u,"ILS",l)]}),p!==0&&e.jsx("span",{className:"breakdown-separator",children:"+"})]}),p!==0&&e.jsxs("span",{className:"breakdown-item",children:[e.jsx("span",{className:"breakdown-currency",children:"EUR:"})," ",i(p,"EUR",l)]}),t===0&&u===0&&p===0&&e.jsx("span",{className:"breakdown-item text-muted",children:"-"})]})]}):e.jsxs("div",{className:m("unified-amount",$),children:[f!==null&&e.jsxs("div",{className:m("unified-total",L),children:[i(f,b,l),h&&e.jsx("span",{className:m("fx-source-badge",`source-${j}`),children:B(`fx.${j}`)})]}),e.jsxs("div",{className:"unified-breakdown",children:[t!==0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"breakdown-item",children:i(t,"USD",l)}),(u!==0||p!==0)&&e.jsx("span",{className:"breakdown-separator",children:"+"})]}),u!==0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"breakdown-item",children:i(u,"ILS",l)}),p!==0&&e.jsx("span",{className:"breakdown-separator",children:"+"})]}),p!==0&&e.jsx("span",{className:"breakdown-item",children:i(p,"EUR",l)}),t===0&&u===0&&p===0&&e.jsx("span",{className:"breakdown-item text-muted",children:"-"})]})]})}function De(){const t=le(),u=je(),{language:p}=ie(),b=de(p),[d,T]=x.useState("summary"),[h,$]=x.useState("month"),[v,K]=x.useState(new Date().getFullYear()),[N,D]=x.useState(()=>oe("all")),P="BOTH",[l,B]=x.useState("net"),[j,f]=x.useState("desc"),[U,L]=x.useState("paid"),[w,y]=x.useState("desc"),[I,Z]=x.useState(""),E=void 0,{data:_=[]}=ye(E),{data:A=[]}=Se(E),me=x.useMemo(()=>({dateFrom:N.dateFrom,dateTo:N.dateTo,currency:E}),[N,E]),{data:W=[]}=ce(me),{data:ee=[]}=ce({kind:"income",status:"unpaid",currency:E}),q=x.useMemo(()=>{const s={USD:{paidIncome:0,unpaidIncome:0,expenses:0,net:0},ILS:{paidIncome:0,unpaidIncome:0,expenses:0,net:0},EUR:{paidIncome:0,unpaidIncome:0,expenses:0,net:0}};for(const n of W){const r=n.currency;n.kind==="income"?n.status==="paid"?s[r].paidIncome+=n.amountMinor:s[r].unpaidIncome+=n.amountMinor:s[r].expenses+=n.amountMinor}return s.USD.net=s.USD.paidIncome-s.USD.expenses,s.ILS.net=s.ILS.paidIncome-s.ILS.expenses,s.EUR.net=s.EUR.paidIncome-s.EUR.expenses,s},[W]);x.useMemo(()=>({paidIncome:0,unpaidIncome:0,expenses:0,net:0}),[P,q]);const F=x.useMemo(()=>{const s={USD:[],ILS:[],EUR:[]},n=new Map,r=new Map,o=new Map;for(const a of W)if(a.kind==="expense"){const c=a.projectName||t("common.noProject");a.currency==="USD"?n.set(c,(n.get(c)||0)+a.amountMinor):a.currency==="ILS"?r.set(c,(r.get(c)||0)+a.amountMinor):o.set(c,(o.get(c)||0)+a.amountMinor)}return s.USD=Array.from(n.entries()).map(([a,c])=>({project:a,amount:c})).sort((a,c)=>c.amount-a.amount),s.ILS=Array.from(r.entries()).map(([a,c])=>({project:a,amount:c})).sort((a,c)=>c.amount-a.amount),s.EUR=Array.from(o.entries()).map(([a,c])=>({project:a,amount:c})).sort((a,c)=>c.amount-a.amount),s},[W,t]),V=x.useMemo(()=>{const s={USD:{current:0,"1-30":0,"31-60":0,"60+":0},ILS:{current:0,"1-30":0,"31-60":0,"60+":0},EUR:{current:0,"1-30":0,"31-60":0,"60+":0}},n=new Date;for(const r of ee){const o=s[r.currency];if(!r.dueDate){o.current+=r.amountMinor;continue}const a=new Date(r.dueDate),c=Math.floor((n.getTime()-a.getTime())/(1e3*60*60*24));c<=0?o.current+=r.amountMinor:c<=30?o["1-30"]+=r.amountMinor:c<=60?o["31-60"]+=r.amountMinor:o["60+"]+=r.amountMinor}return s},[ee]),H=x.useMemo(()=>{let s=[..._];if(I){const n=I.toLowerCase();s=s.filter(r=>r.name.toLowerCase().includes(n)||r.clientName&&r.clientName.toLowerCase().includes(n))}return s.sort((n,r)=>{let o,a;switch(l){case"name":o=n.name.toLowerCase(),a=r.name.toLowerCase();break;case"paid":o=n.paidIncomeMinor,a=r.paidIncomeMinor;break;case"unpaid":o=n.unpaidIncomeMinor,a=r.unpaidIncomeMinor;break;case"expenses":o=n.expensesMinor,a=r.expensesMinor;break;case"net":o=n.netMinor,a=r.netMinor;break}return typeof o=="string"&&typeof a=="string"?j==="asc"?o.localeCompare(a):a.localeCompare(o):j==="asc"?o-a:a-o})},[_,I,l,j]),G=x.useMemo(()=>{let s=[...A];if(I){const n=I.toLowerCase();s=s.filter(r=>r.name.toLowerCase().includes(n))}return s.sort((n,r)=>{let o,a;switch(U){case"name":o=n.name.toLowerCase(),a=r.name.toLowerCase();break;case"paid":o=n.paidIncomeMinor,a=r.paidIncomeMinor;break;case"unpaid":o=n.unpaidIncomeMinor,a=r.unpaidIncomeMinor;break;case"projects":o=n.activeProjectCount,a=r.activeProjectCount;break}return typeof o=="string"&&typeof a=="string"?w==="asc"?o.localeCompare(a):a.localeCompare(o):w==="asc"?o-a:a-o})},[A,I,U,w]),J=(s,n)=>{const r=new URLSearchParams;switch(r.set("dateFrom",N.dateFrom),r.set("dateTo",N.dateTo),r.set("currency",n),s){case"paidIncome":r.set("kind","income"),r.set("status","paid");break;case"unpaidIncome":r.set("kind","income"),r.set("status","unpaid");break;case"expenses":r.set("kind","expense");break}u({to:"/transactions",search:Object.fromEntries(r)})},z=s=>{l===s?f(n=>n==="asc"?"desc":"asc"):(B(s),f("desc"))},O=s=>{U===s?y(n=>n==="asc"?"desc":"asc"):(L(s),y("desc"))},M=s=>{if($(s),s==="month")D(oe("this-month"));else if(s==="quarter"){const o=Math.floor(new Date().getMonth()/3)*3,a=new Date(v,o,1),c=new Date(v,o+3,0);D({dateFrom:a.toISOString().split("T")[0],dateTo:c.toISOString().split("T")[0]})}else s==="year"&&D({dateFrom:`${v}-01-01`,dateTo:`${v}-12-31`})},Y=s=>{const n=v+s;if(K(n),h==="year")D({dateFrom:`${n}-01-01`,dateTo:`${n}-12-31`});else if(h==="quarter"){const a=Math.floor(new Date().getMonth()/3)*3,c=new Date(n,a,1),Q=new Date(n,a+3,0);D({dateFrom:c.toISOString().split("T")[0],dateTo:Q.toISOString().split("T")[0]})}},pe=()=>{const s=[];s.push(`# Report: ${d}`),s.push(`# Period: ${h}${h==="year"?` ${v}`:""}`),s.push(`# Date range: ${N.dateFrom} to ${N.dateTo}`),s.push(`# Currency: ${P}`),s.push("");const n=(S,g)=>["Metric,Amount,Currency",`Paid Income,${(S.paidIncome/100).toFixed(2)},${g}`,`Unpaid Receivables,${(S.unpaidIncome/100).toFixed(2)},${g}`,`Expenses,${(S.expenses/100).toFixed(2)},${g}`,`Net,${(S.net/100).toFixed(2)},${g}`].join(`
`),r=()=>{const S="Project,Client,Paid,Unpaid,Expenses,Net",g=H.map(k=>`"${k.name}","${k.clientName||""}",${(k.paidIncomeMinor/100).toFixed(2)},${(k.unpaidIncomeMinor/100).toFixed(2)},${(k.expensesMinor/100).toFixed(2)},${(k.netMinor/100).toFixed(2)}`);return[S,...g].join(`
`)},o=()=>{const S="Client,Projects,Paid,Unpaid",g=G.map(k=>`"${k.name}",${k.activeProjectCount},${(k.paidIncomeMinor/100).toFixed(2)},${(k.unpaidIncomeMinor/100).toFixed(2)}`);return[S,...g].join(`
`)},a=(S,g)=>{const k="Project,Amount,Currency",xe=S.map(ae=>`"${ae.project}",${(ae.amount/100).toFixed(2)},${g}`);return[k,...xe].join(`
`)},c=(S,g)=>["Period,Amount,Currency",`Current (not due),${(S.current/100).toFixed(2)},${g}`,`1-30 days,${(S["1-30"]/100).toFixed(2)},${g}`,`31-60 days,${(S["31-60"]/100).toFixed(2)},${g}`,`60+ days,${(S["60+"]/100).toFixed(2)},${g}`].join(`
`);switch(d){case"summary":{s.push("## USD"),s.push(n(q.USD,"USD")),s.push(""),s.push("## ILS"),s.push(n(q.ILS,"ILS"));break}case"by-project":{s.push(r());break}case"by-client":{s.push(o());break}case"expenses-by-project":{s.push("## USD"),s.push(a(F.USD,"USD")),s.push(""),s.push("## ILS"),s.push(a(F.ILS,"ILS"));break}case"unpaid-aging":{s.push("## USD"),s.push(c(V.USD,"USD")),s.push(""),s.push("## ILS"),s.push(c(V.ILS,"ILS"));break}}const Q=`${d}-${N.dateFrom}-${P}.csv`,ue=new Blob([s.join(`
`)],{type:"text/csv"}),ne=URL.createObjectURL(ue),X=document.createElement("a");X.href=ne,X.download=Q,X.click(),URL.revokeObjectURL(ne)},he=[{type:"summary",labelKey:"reports.presets.summary"},{type:"by-project",labelKey:"reports.presets.byProject"},{type:"by-client",labelKey:"reports.presets.byClient"},{type:"expenses-by-project",labelKey:"reports.presets.expensesByProject"},{type:"unpaid-aging",labelKey:"reports.presets.unpaidAging"}],se=(s,n)=>e.jsxs("div",{className:"kpi-row",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[e.jsxs("button",{className:"kpi-card clickable",onClick:()=>J("paidIncome",n),"aria-label":t("reports.drillDown.paidIncome"),children:[e.jsx("div",{className:"kpi-label",children:t("overview.kpi.paidIncome")}),e.jsx("div",{className:"kpi-value positive",children:i(s.paidIncome,n,b)})]}),e.jsxs("button",{className:"kpi-card clickable",onClick:()=>J("unpaidIncome",n),"aria-label":t("reports.drillDown.unpaidIncome"),children:[e.jsx("div",{className:"kpi-label",children:t("overview.kpi.unpaidReceivables")}),e.jsx("div",{className:"kpi-value warning",children:i(s.unpaidIncome,n,b)})]}),e.jsxs("button",{className:"kpi-card clickable",onClick:()=>J("expenses",n),"aria-label":t("reports.drillDown.expenses"),children:[e.jsx("div",{className:"kpi-label",children:t("overview.kpi.expenses")}),e.jsx("div",{className:"kpi-value",children:i(s.expenses,n,b)})]}),e.jsxs("div",{className:"kpi-card",children:[e.jsx("div",{className:"kpi-label",children:t("projects.columns.net")}),e.jsx("div",{className:m("kpi-value",s.net>=0?"positive":"negative"),children:i(s.net,n,b)})]})]}),te=(s,n)=>e.jsxs("div",{className:"kpi-row",style:{gridTemplateColumns:"repeat(4, 1fr)"},children:[e.jsxs("div",{className:"kpi-card",children:[e.jsx("div",{className:"kpi-label",children:t("reports.aging.current")}),e.jsx("div",{className:"kpi-value",children:i(s.current,n,b)})]}),e.jsxs("div",{className:"kpi-card",children:[e.jsx("div",{className:"kpi-label",children:t("reports.aging.days1to30")}),e.jsx("div",{className:"kpi-value warning",children:i(s["1-30"],n,b)})]}),e.jsxs("div",{className:"kpi-card",children:[e.jsx("div",{className:"kpi-label",children:t("reports.aging.days31to60")}),e.jsx("div",{className:"kpi-value",style:{color:"var(--color-danger)"},children:i(s["31-60"],n,b)})]}),e.jsxs("div",{className:"kpi-card",children:[e.jsx("div",{className:"kpi-label",children:t("reports.aging.days60plus")}),e.jsx("div",{className:"kpi-value negative",children:i(s["60+"],n,b)})]})]}),C=(s,n)=>s?e.jsx("span",{className:"sort-icon",children:n==="asc"?"↑":"↓"}):null;return e.jsxs(e.Fragment,{children:[e.jsx(ge,{title:t("reports.title")}),e.jsx("div",{className:"page-content",children:e.jsxs("div",{className:"reports-layout",children:[e.jsxs("div",{className:"reports-sidebar",children:[e.jsx("div",{className:"reports-sidebar-title",children:t("reports.title")}),he.map(s=>e.jsx("button",{className:m("report-preset",d===s.type&&"active"),onClick:()=>{T(s.type),Z("")},"aria-current":d===s.type?"page":void 0,children:t(s.labelKey)},s.type))]}),e.jsxs("div",{className:"reports-content",children:[e.jsxs("div",{className:"filters-row",style:{marginBottom:24},children:[d==="summary"&&e.jsxs("div",{className:"period-control",children:[e.jsxs("div",{className:"segment-control",children:[e.jsx("button",{className:m("segment-button",h==="month"&&"active"),onClick:()=>M("month"),children:t("reports.period.month")}),e.jsx("button",{className:m("segment-button",h==="quarter"&&"active"),onClick:()=>M("quarter"),children:t("reports.period.quarter")}),e.jsx("button",{className:m("segment-button",h==="year"&&"active"),onClick:()=>M("year"),children:t("reports.period.year")})]}),(h==="year"||h==="quarter")&&e.jsxs("div",{className:"year-stepper",children:[e.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>Y(-1),"aria-label":t("common.previous"),children:"←"}),e.jsx("span",{className:"year-display",children:v}),e.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>Y(1),"aria-label":t("common.next"),disabled:v>=new Date().getFullYear(),children:"→"})]})]}),d==="expenses-by-project"&&e.jsxs("div",{className:"period-control",children:[e.jsxs("div",{className:"segment-control",children:[e.jsx("button",{className:m("segment-button",h==="month"&&"active"),onClick:()=>M("month"),children:t("reports.period.month")}),e.jsx("button",{className:m("segment-button",h==="quarter"&&"active"),onClick:()=>M("quarter"),children:t("reports.period.quarter")}),e.jsx("button",{className:m("segment-button",h==="year"&&"active"),onClick:()=>M("year"),children:t("reports.period.year")})]}),(h==="year"||h==="quarter")&&e.jsxs("div",{className:"year-stepper",children:[e.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>Y(-1),"aria-label":t("common.previous"),children:"←"}),e.jsx("span",{className:"year-display",children:v}),e.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>Y(1),"aria-label":t("common.next"),disabled:v>=new Date().getFullYear(),children:"→"})]})]}),(d==="by-project"||d==="by-client")&&e.jsx(ve,{value:I,onChange:Z,placeholder:t(d==="by-project"?"reports.search.project":"reports.search.client")}),e.jsx("button",{className:"btn btn-secondary",onClick:pe,children:t("reports.exportCsv")})]}),(d==="summary"||d==="expenses-by-project")&&e.jsxs("div",{className:"date-range-display",style:{marginBottom:16,fontSize:"var(--font-size-sm)",color:"var(--color-text-muted)"},children:[N.dateFrom," → ",N.dateTo]}),d==="summary"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:16},children:t("reports.sections.financialSummary")}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"currency-section",style:{marginBottom:24},children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"USD"}),se(q.USD,"USD")]}),e.jsxs("div",{className:"currency-section",children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"ILS"}),se(q.ILS,"ILS")]})]})]}),d==="by-project"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:16},children:t("reports.sections.incomeByProject")}),H.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{className:"text-muted",children:t(I?"common.noResults":"projects.empty")})}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{className:"sortable",onClick:()=>z("name"),children:[t("projects.columns.project"),C(l==="name",j)]}),e.jsx("th",{children:t("projects.columns.client")}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>z("paid"),children:[t("projects.columns.paid"),C(l==="paid",j)]}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>z("unpaid"),children:[t("projects.columns.unpaid"),C(l==="unpaid",j)]}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>z("expenses"),children:[t("projects.columns.expenses"),C(l==="expenses",j)]}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>z("net"),children:[t("projects.columns.net"),C(l==="net",j)]})]})}),e.jsx("tbody",{children:H.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:s.name}),e.jsx("td",{className:"text-secondary",children:s.clientName||"-"}),e.jsx("td",{className:"amount-cell amount-positive",children:e.jsx(R,{usdAmountMinor:s.paidIncomeMinorUSD||0,ilsAmountMinor:s.paidIncomeMinorILS||0,variant:"table",type:"income",showSource:!1})}),e.jsx("td",{className:"amount-cell",style:{color:"var(--color-warning)"},children:e.jsx(R,{usdAmountMinor:s.unpaidIncomeMinorUSD||0,ilsAmountMinor:s.unpaidIncomeMinorILS||0,variant:"table",type:"neutral",showSource:!1})}),e.jsx("td",{className:"amount-cell",children:e.jsx(R,{usdAmountMinor:s.expensesMinorUSD||0,ilsAmountMinor:s.expensesMinorILS||0,variant:"table",type:"neutral",showSource:!1})}),e.jsx("td",{className:m("amount-cell",s.netMinor>=0?"amount-positive":"amount-negative"),children:e.jsx(R,{usdAmountMinor:(s.paidIncomeMinorUSD||0)-(s.expensesMinorUSD||0),ilsAmountMinor:(s.paidIncomeMinorILS||0)-(s.expensesMinorILS||0),variant:"table",type:"net",showSource:!1})})]},s.id))})]})})]}),d==="by-client"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:16},children:t("reports.sections.incomeByClient")}),G.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{className:"text-muted",children:t(I?"common.noResults":"clients.empty")})}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{className:"sortable",onClick:()=>O("name"),children:[t("clients.columns.client"),C(U==="name",w)]}),e.jsxs("th",{className:"sortable",onClick:()=>O("projects"),children:[t("clients.tabs.projects"),C(U==="projects",w)]}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>O("paid"),children:[t("projects.columns.paid"),C(U==="paid",w)]}),e.jsxs("th",{className:"sortable",style:{textAlign:"end"},onClick:()=>O("unpaid"),children:[t("projects.columns.unpaid"),C(U==="unpaid",w)]})]})}),e.jsx("tbody",{children:G.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:s.name}),e.jsx("td",{className:"text-secondary",children:s.activeProjectCount}),e.jsx("td",{className:"amount-cell amount-positive",children:e.jsx(R,{usdAmountMinor:s.paidIncomeMinorUSD||0,ilsAmountMinor:s.paidIncomeMinorILS||0,variant:"table",type:"income",showSource:!1})}),e.jsx("td",{className:"amount-cell",style:{color:"var(--color-warning)"},children:e.jsx(R,{usdAmountMinor:s.unpaidIncomeMinorUSD||0,ilsAmountMinor:s.unpaidIncomeMinorILS||0,variant:"table",type:"neutral",showSource:!1})})]},s.id))})]})})]}),d==="expenses-by-project"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:16},children:t("reports.sections.expensesByProject")}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"currency-section",style:{marginBottom:24},children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"USD"}),F.USD.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{className:"text-muted",children:t("reports.noExpenses")})}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("projects.columns.project")}),e.jsx("th",{style:{textAlign:"end"},children:t("transactions.columns.amount")})]})}),e.jsx("tbody",{children:F.USD.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:s.project}),e.jsx("td",{className:"amount-cell",children:i(s.amount,"USD",b)})]},s.project))})]})})]}),e.jsxs("div",{className:"currency-section",children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"ILS"}),F.ILS.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{className:"text-muted",children:t("reports.noExpenses")})}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("projects.columns.project")}),e.jsx("th",{style:{textAlign:"end"},children:t("transactions.columns.amount")})]})}),e.jsx("tbody",{children:F.ILS.map(s=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:500},children:s.project}),e.jsx("td",{className:"amount-cell",children:i(s.amount,"ILS",b)})]},s.project))})]})})]})]})]}),d==="unpaid-aging"&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:16},children:t("reports.sections.unpaidAging")}),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"currency-section",style:{marginBottom:24},children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"USD"}),te(V.USD,"USD")]}),e.jsxs("div",{className:"currency-section",children:[e.jsx("h4",{style:{marginBottom:12,fontSize:"var(--font-size-md)",fontWeight:500},children:"ILS"}),te(V.ILS,"ILS")]})]})]})]})]})})]})}export{De as ReportsPage};
