import{r as l,j as e,L as o}from"./vendor-router-D4Yqsbqz.js";import{d,u as m,o as h,T as j,S as p,p as x,q as u}from"./index-D5Ndap8n.js";import"./vendor-react-BdxwsYZ-.js";import"./vendor-query-CI0tl4qS.js";import"./vendor-db-BMy7eggi.js";import"./vendor-forms-Bf8hyTk9.js";function f(){const{openProjectDrawer:n}=d(),s=m(),[r,c]=l.useState(""),{data:a=[],isLoading:i}=h(void 0,r);return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:s("projects.title")}),e.jsxs("div",{className:"page-content",children:[e.jsx("div",{className:"filters-row",children:e.jsx(p,{value:r,onChange:c,placeholder:s("projects.searchPlaceholder")})}),i?e.jsx("div",{className:"loading",children:e.jsx("div",{className:"spinner"})}):a.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{className:"empty-state-title",children:s("projects.empty")}),e.jsx("p",{className:"empty-state-description",children:s(r?"projects.emptySearch":"projects.emptyHint")}),e.jsx("button",{className:"btn btn-primary",onClick:()=>n({mode:"create"}),children:s("projects.addProject")})]}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("projects.columns.project")}),e.jsx("th",{children:s("projects.columns.client")}),e.jsx("th",{children:s("projects.columns.field")}),e.jsx("th",{style:{textAlign:"end"},children:s("projects.columns.unpaid")}),e.jsx("th",{children:s("projects.columns.lastActivity")})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(o,{to:"/projects/$projectId",params:{projectId:t.id},style:{fontWeight:500},children:t.name})}),e.jsx("td",{className:"text-secondary",children:t.clientName||"-"}),e.jsx("td",{className:"text-secondary",children:t.field||"-"}),e.jsx("td",{className:"amount-cell",children:e.jsx(x,{usdAmountMinor:t.unpaidIncomeMinorUSD??0,ilsAmountMinor:t.unpaidIncomeMinorILS??0,eurAmountMinor:t.unpaidIncomeMinorEUR??0,type:"neutral"})}),e.jsx("td",{className:"text-muted",children:t.lastActivityAt?u(t.lastActivityAt,s):"-"})]},t.id))})]})})]})]})}export{f as ProjectsPage};
