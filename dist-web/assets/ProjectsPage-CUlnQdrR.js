import{r as c,j as e,L as p}from"./vendor-router-D4Yqsbqz.js";import{d as x,u,a as y,p as g,T as v,i as N,S,U as f,m as A,q as I,o as b}from"./index-Su4uSoYk.js";import"./vendor-react-BdxwsYZ-.js";import"./vendor-query-CI0tl4qS.js";import"./vendor-db-BMy7eggi.js";import"./vendor-forms-CPtPuEGg.js";function T(){const{openProjectDrawer:i}=x(),s=u(),{language:l}=y(),o=b(l),[a,d]=c.useState(void 0),[n,m]=c.useState(""),{data:r=[],isLoading:h}=g(a,n),j=!a;return e.jsxs(e.Fragment,{children:[e.jsx(v,{title:s("projects.title"),filterSlot:e.jsx("div",{className:"filters-row",style:{marginBottom:0,marginInlineStart:24},children:e.jsx(N,{value:a,onChange:d})})}),e.jsxs("div",{className:"page-content",children:[e.jsx("div",{className:"filters-row",children:e.jsx(S,{value:n,onChange:m,placeholder:s("projects.searchPlaceholder")})}),h?e.jsx("div",{className:"loading",children:e.jsx("div",{className:"spinner"})}):r.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{className:"empty-state-title",children:s("projects.empty")}),e.jsx("p",{className:"empty-state-description",children:s(n?"projects.emptySearch":"projects.emptyHint")}),e.jsx("button",{className:"btn btn-primary",onClick:()=>i({mode:"create"}),children:s("projects.addProject")})]}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:s("projects.columns.project")}),e.jsx("th",{children:s("projects.columns.client")}),e.jsx("th",{children:s("projects.columns.field")}),e.jsx("th",{style:{textAlign:"end"},children:s("projects.columns.unpaid")}),e.jsx("th",{children:s("projects.columns.lastActivity")})]})}),e.jsx("tbody",{children:r.map(t=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(p,{to:"/projects/$projectId",params:{projectId:t.id},style:{fontWeight:500},children:t.name})}),e.jsx("td",{className:"text-secondary",children:t.clientName||"-"}),e.jsx("td",{className:"text-secondary",children:t.field||"-"}),e.jsx("td",{className:"amount-cell",children:j&&t.unpaidIncomeMinorUSD!==void 0?e.jsx(f,{usdAmountMinor:t.unpaidIncomeMinorUSD,ilsAmountMinor:t.unpaidIncomeMinorILS??0,variant:"compact",type:"neutral"}):e.jsx("span",{style:{color:"var(--color-warning)"},children:A(t.unpaidIncomeMinor,a,o)})}),e.jsx("td",{className:"text-muted",children:t.lastActivityAt?I(t.lastActivityAt,s):"-"})]},t.id))})]})})]})]})}export{T as ProjectsPage};
