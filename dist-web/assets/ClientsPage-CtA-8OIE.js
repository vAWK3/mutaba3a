import{r as o,j as e,L as m}from"./vendor-router-D4Yqsbqz.js";import{d as h,u,a as x,t as j,T as p,S as y,p as g,j as v,q as N,n as A}from"./index-CziYQwUw.js";import"./vendor-react-BdxwsYZ-.js";import"./vendor-query-CI0tl4qS.js";import"./vendor-db-BMy7eggi.js";import"./vendor-forms-CPtPuEGg.js";function L(){const{openClientDrawer:i}=h(),t=u(),{language:l}=x(),c=A(l),[a,r]=o.useState(""),{data:n=[],isLoading:d}=j(void 0,a);return e.jsxs(e.Fragment,{children:[e.jsx(p,{title:t("clients.title")}),e.jsxs("div",{className:"page-content",children:[e.jsx("div",{className:"filters-row",children:e.jsx(y,{value:a,onChange:r,placeholder:t("clients.searchPlaceholder")})}),d?e.jsx("div",{className:"loading",children:e.jsx("div",{className:"spinner"})}):n.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("h3",{className:"empty-state-title",children:t("clients.empty")}),e.jsx("p",{className:"empty-state-description",children:t(a?"clients.emptySearch":"clients.emptyHint")}),e.jsx("button",{className:"btn btn-primary",onClick:()=>i({mode:"create"}),children:t("clients.addClient")})]}):e.jsx("div",{className:"data-table",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:t("clients.columns.client")}),e.jsx("th",{children:t("clients.columns.activeProjects")}),e.jsx("th",{style:{textAlign:"end"},children:t("clients.columns.unpaid")}),e.jsx("th",{children:t("clients.columns.lastPayment")}),e.jsx("th",{children:t("clients.columns.lastActivity")})]})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx(m,{to:"/clients/$clientId",params:{clientId:s.id},style:{fontWeight:500},children:s.name})}),e.jsx("td",{className:"text-secondary",children:s.activeProjectCount}),e.jsx("td",{className:"amount-cell",children:e.jsx(g,{usdAmountMinor:s.unpaidIncomeMinorUSD??0,ilsAmountMinor:s.unpaidIncomeMinorILS??0,eurAmountMinor:s.unpaidIncomeMinorEUR??0,type:"neutral"})}),e.jsx("td",{className:"text-muted",children:s.lastPaymentAt?v(s.lastPaymentAt,c):"-"}),e.jsx("td",{className:"text-muted",children:s.lastActivityAt?N(s.lastActivityAt,t):"-"})]},s.id))})]})})]})]})}export{L as ClientsPage};
